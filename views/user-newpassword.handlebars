<section>
    <article class="login-form">
        Email: <h1 id="email">{{email}}</h1>
        New Password: <input id="password1" type="text" >
        Re-type Password: <input id="password2" type="text" >
        <button onclick=forgotPassword()>Submit</button>
    </article>
</section>
<script>

    const forgotPassword = async () => {
        let password;

        useremail = document.getElementById("email");
        password1 = document.getElementById("password1");
        password2 = document.getElementById("password2");

        if(password1.value === password2.value){
            password = {
                new_password: password1.value,
                email: useremail.innerHTML,
            }

            const response = await fetch("/userapi/password", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(password),
            });

            password1.value = ''
            password2.value = ''

            if (response.ok){
                console.log(response);
                alert('Password changed successfully')

            }else{
                alert('Failed to change passwords.');
            }
        }else{
            alert('Passwords must be the same!');
        }
    }
</script>